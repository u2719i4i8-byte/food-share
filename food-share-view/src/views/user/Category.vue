<template>
    <div class="category-page">
        <header class="top-nav">
            <div class="nav-title">åˆ†ç±»</div>
        </header>

        <div class="category-content">
            <div class="category-section" v-for="(category, index) in categories" :key="index">
                <div class="section-header">
                    <h3 class="section-title">{{ category.name }}</h3>
                    <span class="section-more" @click="expandCategory(category)">
                        {{ category.expanded ? 'æ”¶èµ·' : 'å±•å¼€' }}
                        <i :class="category.expanded ? 'el-icon-arrow-up' : 'el-icon-arrow-down'"></i>
                    </span>
                </div>
                <div class="tag-grid" :class="{ expanded: category.expanded }">
                    <div 
                        class="tag-item" 
                        v-for="(tag, tagIndex) in category.tags" 
                        :key="tagIndex"
                        @click="selectTag(category.name, tag)"
                    >
                        <div class="tag-icon">{{ tag.icon }}</div>
                        <span class="tag-name">{{ tag.name }}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
export default {
    name: "Category",
    data() {
        return {
            categories: [
                {
                    name: 'èœç³»',
                    expanded: false,
                    tags: [
                        { name: 'å·èœ', icon: 'ğŸŒ¶ï¸' },
                        { name: 'ç²¤èœ', icon: 'ğŸ¥Ÿ' },
                        { name: 'æ¹˜èœ', icon: 'ğŸ”¥' },
                        { name: 'é²èœ', icon: 'ğŸ–' },
                        { name: 'æ±Ÿæµ™èœ', icon: 'ğŸ¦' },
                        { name: 'è¥¿åŒ—èœ', icon: 'ğŸ¥©' },
                        { name: 'ä¸œåŒ—èœ', icon: 'ğŸ¥˜' },
                        { name: 'é—½å—èœ', icon: 'ğŸœ' },
                        { name: 'äº‘å—èœ', icon: 'ğŸ„' },
                        { name: 'æ–°ç–†èœ', icon: 'ğŸ¢' },
                        { name: 'éŸ©å¼', icon: 'ğŸ¥¬' },
                        { name: 'æ—¥å¼', icon: 'ğŸ£' },
                        { name: 'æ³°å¼', icon: 'ğŸ›' },
                        { name: 'æ„å¼', icon: 'ğŸ' },
                        { name: 'ç¾å¼', icon: 'ğŸ”' }
                    ]
                },
                {
                    name: 'åœºæ™¯',
                    expanded: false,
                    tags: [
                        { name: 'æ—©é¤', icon: 'ğŸ³' },
                        { name: 'åˆé¤', icon: 'ğŸ±' },
                        { name: 'æ™šé¤', icon: 'ğŸ²' },
                        { name: 'ä¸‹åˆèŒ¶', icon: 'ğŸ§' },
                        { name: 'å¤œå®µ', icon: 'ğŸŒ™' },
                        { name: 'ä¸€äººé£Ÿ', icon: 'ğŸ¥¢' },
                        { name: 'å®¶åº­èšé¤', icon: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦' },
                        { name: 'æœ‹å‹å°èš', icon: 'ğŸ‰' },
                        { name: 'èŠ‚æ—¥å®¶å®´', icon: 'ğŸŠ' },
                        { name: 'æˆ·å¤–é‡é¤', icon: 'ğŸ•ï¸' }
                    ]
                },
                {
                    name: 'é£Ÿæ',
                    expanded: false,
                    tags: [
                        { name: 'æµ·é²œ', icon: 'ğŸ¦€' },
                        { name: 'è‚‰é£Ÿ', icon: 'ğŸ¥©' },
                        { name: 'ç´ é£Ÿ', icon: 'ğŸ¥¬' },
                        { name: 'èŒè‡', icon: 'ğŸ„' },
                        { name: 'è±†åˆ¶å“', icon: 'ğŸ§ˆ' },
                        { name: 'æ ¹èŒç±»', icon: 'ğŸ¥•' },
                        { name: 'å¶èœç±»', icon: 'ğŸ¥—' },
                        { name: 'ç¦½è›‹ç±»', icon: 'ğŸ¥š' },
                        { name: 'è°·ç‰©', icon: 'ğŸŒ¾' },
                        { name: 'åšæœ', icon: 'ğŸ¥œ' },
                        { name: 'æ—¶ä»¤æ°´æœ', icon: 'ğŸ' }
                    ]
                },
                {
                    name: 'éš¾åº¦',
                    expanded: false,
                    tags: [
                        { name: 'æ–°æ‰‹å‹å¥½', icon: 'ğŸŒ±' },
                        { name: 'ç®€å•', icon: 'â­' },
                        { name: 'ä¸­ç­‰', icon: 'â­â­' },
                        { name: 'å›°éš¾', icon: 'â­â­â­' },
                        { name: 'å¤§å¸ˆçº§', icon: 'ğŸ‘‘' }
                    ]
                },
                {
                    name: 'çƒ¹é¥ªæ–¹å¼',
                    expanded: false,
                    tags: [
                        { name: 'çƒ§çƒ¤', icon: 'ğŸ”¥' },
                        { name: 'ç«é”…', icon: 'ğŸ²' },
                        { name: 'ç…ç‚¸', icon: 'ğŸ³' },
                        { name: 'è’¸ç…®', icon: 'â™¨ï¸' },
                        { name: 'ç„–ç‚–', icon: 'ğŸ¥˜' },
                        { name: 'å‡‰æ‹Œ', icon: 'ğŸ¥—' },
                        { name: 'çƒ˜ç„™', icon: 'ğŸ‚' },
                        { name: 'çˆ†ç‚’', icon: 'ğŸ’¥' },
                        { name: 'ç…²æ±¤', icon: 'ğŸ«•' }
                    ]
                },
                {
                    name: 'ç‰¹è‰²',
                    expanded: false,
                    tags: [
                        { name: 'å‡è„‚è½»é£Ÿ', icon: 'ğŸ¥—' },
                        { name: 'ä¸‹é¥­ç¥å™¨', icon: 'ğŸš' },
                        { name: 'ä¸‹é…’å°èœ', icon: 'ğŸº' },
                        { name: 'ç½‘çº¢ç¾é£Ÿ', icon: 'ğŸ“¸' },
                        { name: 'éé—ç¾é£Ÿ', icon: 'ğŸ›ï¸' },
                        { name: 'å¤åˆ»ç»å…¸', icon: 'ğŸ¬' }
                    ]
                }
            ]
        }
    },
    methods: {
        route(path) {
            if (this.$route.path !== path) {
                this.$router.push(path);
            }
        },
        expandCategory(category) {
            category.expanded = !category.expanded;
        },
        selectTag(categoryName, tag) {
            sessionStorage.setItem('filterTag', JSON.stringify({
                group: categoryName,
                tag: tag.name
            }));
            this.$router.push('/gourmet');
        }
    }
};
</script>

<style scoped lang="scss">
.category-page {
    min-height: 100vh;
    background: #F5F7FA;
}

.top-nav {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 56px;
    background: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 100;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.05);
    
    .nav-title {
        font-size: 18px;
        font-weight: 600;
        color: #1D2129;
    }
}

.category-content {
    padding: 72px 16px 16px;
}

.category-section {
    background: #fff;
    border-radius: 16px;
    padding: 16px;
    margin-bottom: 12px;
    
    .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
        
        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: #1D2129;
            margin: 0;
        }
        
        .section-more {
            font-size: 12px;
            color: #86909C;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 4px;
            
            &:hover {
                color: #FF8A00;
            }
        }
    }
    
    .tag-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 12px;
        max-height: 160px;
        overflow: hidden;
        transition: max-height 0.3s ease;
        
        &.expanded {
            max-height: 1000px;
        }
        
        .tag-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            padding: 12px 8px;
            background: #FFF5EB;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            
            &:hover {
                background: #FFE8D6;
                transform: translateY(-2px);
            }
            
            .tag-icon {
                font-size: 24px;
            }
            
            .tag-name {
                font-size: 12px;
                color: #4E5969;
                text-align: center;
            }
        }
    }
}
</style>
